<!doctype html>
{% extends "layout.html" %}

{% block content %}
<head>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='site.css')}}" />
</head>
<title>Hello from Flask</title>

<div class="content">
    <h1 class="message">Home</h1> 

    <!-- Ranking List of Climbs -->
    <div class="top-climbs">
        <h2>Top 10 Climbs</h2>
        <div class = "horizontal-row">
            <div class = "table-response">
                <table class = "table table-striped route-table hiden-xs-down">
                    <body>
                            <tr class = "table-header">
                                <th></th>
                                <th><b>Climb Name</b>></th>
                                <th><b>Climb Rating</b></th>
                            </tr>
                        {% for climb in top_climbs %}
                            <tr class = "route-row">
                                <td class = "index"><b>#{{loop.index}}</b></td>
                                <td class="climb-name">{{ climb.name }}</td>
                                <td class="climb-rating">Rating: {{ climb.rating|round(2)}}</td>
                            </tr>
                        {% endfor %}
                    </body>
                </table>
            </div>
            <div class = "homepage-image">
                <img src="https://drive.google.com/uc?export=view&id=1TLfs4hY7EkJsjXEPws4c5jNYg-0PODVK" alt="placeholder", height="500px" width=auto>
            </div>
        </div>
        
        
    </div>
    <hr>
    
</div>



<!-- Inside home.html -->

{% if 'UserID' in session %}
    <!-- Rating form for logged-in users -->
    <form action="{{ url_for('submit_rating') }}" method="post">
        <label for="climb_id">Select Climb:</label>
        <select name="climb_id" id="climb_id">
            {% for climb in climbs %}
                <option value="{{ climb.ClimbID }}">{{ climb.ClimbName }}</option>
            {% endfor %}
        </select>
        <label for="rating">Rating:</label>
        <input type="number" name="rating" id="rating" min="1" max="5" required>
        <input type="submit" value="Submit Rating">
    </form>
{% endif %}




{% endblock %}
